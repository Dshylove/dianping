# 仿大众点评APP后端+后台管理系统
技术栈：Spring + Spring MVC + MyBatis + jQuery + Maven

## 项目介绍
- Web APP采用前后端分离模式，前端路由，通过Ajax + json进行数据交互，由前端渲染
- 后台管理系统采用传统开发模式，后端路由，页面使用iframe版，服务器端渲染
- 后端API接口使用RESTful风格

## 项目总结

### 1.解决多用户高并发
加synchronized同步锁（使用双重同步锁），保证instance不会被重复实例化。因为在高并发下，用户可能会同时进入该if语句块内。

### 2.同一用户高并发的重复请求
用户多次请求验证码时，出现保存验证码高并发问题，会导致重复保存验证码。

这种情况不宜在方法名上直接加synchronized同步锁，否则整个方法变为单线程，导致多用户请求验证码时排队时间过长。

但是可以在方法内使用双重同步锁。

如果用Redis缓存存储，可以避免这种情况，因为Redis具有原子性的方法，即能保证一个用户只有一个请求能够成功保存验证码。

### 3.采用XML配置的方式实现Spring Task定时任务
使用Cron表达式

### 4.拦截器权限判断
- 针对前端APP：token校验拦截器
- 针对后台管理系统：session校验拦截器

### 5.原生权限管理
通过定义数据库action实体实现对用户权限控制（未使用Shiro或Spring Security权限管理框架）

action实体与用户组group实体为：多对多关系